# Gerenciamento de funcionários
# Permite cadastrar, consultar e remover funcionários
# Funcionário tem id, nome, setor e salário

lista_funcionarios = [] # Lista para armazenar funcionarios
id_global = 5211546 # 2/8

# Função para cadastrar funcionários
# 3/8
def cadastrar_funcionarios(id):

  """
    Cadastra um funcionário novo.
    Recebe o id que será atribuído ao funcionário.
    Pergunta nome, setor e salário, cria o dicionário e adiciona à lista.
    # Recurso de cometário aprendido na aula 6
    """

  nome = input('Por favor, entre com o nome do funcionário: ')
  setor = input('Por favor, entre com o setor do funcionário: ')
  salario = float(input('Por favor, entre com o salário do funcionário: '))

  # Cria um dicionário para armazenar os dados
  # 7/8
  funcionario = {
        "id": id,
        "nome": nome,
        "setor": setor,
        "salario": salario
    }

  lista_funcionarios.append(funcionario.copy())
  print(f'Funcionário cadastrado com sucesso! ID do funcionário: {id}')

# Função para consultar funcionários
# 4/8
def consultar_funcionarios():

  # Validar as opções
  while True:

    print('\n1. Consultar Todos')
    print('2. Consultar por Id')
    print('3. Consultar por Setor')
    print('4. Retornar ao menu')

    opcao = input('Escolha uma opção: ')

    if (opcao == '1'):
        if not lista_funcionarios:
            print('Nenhum funcionário cadastrado.')
        else:
            for f in lista_funcionarios:
                print(f"ID: {f['id']}")
                print(f"Nome: {f['nome']}")
                print(f"Setor: {f['setor']}")
                print(f"Salário: {f['salario']}")
                print('---------------------------')
    elif (opcao == '2'):
        id_consulta = int(input('Informe o ID do funcionário: '))
        encontrado = False
        for f in lista_funcionarios:
            if f['id'] == id_consulta:
                print(f"ID: {f['id']}")
                print(f"Nome: {f['nome']}")
                print(f"Setor: {f['setor']}")
                print(f"Salário: {f['salario']}")
                print('---------------------------')
                encontrado = True
                break
        if not (encontrado):
            print("Funcionário não encontrado.")
    elif (opcao == '3'):
        setor_consulta = input('Informe o setor: ')
        encontrados = [f for f in lista_funcionarios if f["setor"].lower() == setor_consulta.lower()]
        if not (encontrados):
            print('Nenhum funcionário encontrado neste setor.')
        else:
            for f in encontrados:
                print(f"ID: {f['id']}")
                print(f"Nome: {f['nome']}")
                print(f"Setor: {f['setor']}")
                print(f"Salário: {f['salario']}")
                print("---------------------------")
    elif (opcao == '4'):
        return
    else:
        print('Opção inválida.')

# Função para remover funcionários
# 5/8
def remover_funcionarios():

  while True:
    id_remover = int(input('Digite o ID do funcionário a ser removido: '))
    encontrado = False

    for f in lista_funcionarios:
        if (f['id'] == id_remover):
            lista_funcionarios.remove(f)
            print("Funcionário removido com sucesso!")
            encontrado = True
            break
    if encontrado:
        break
    else:
        print("Id inválido.")

# Programa princial

print ('-'* 8 + 'Bem-vindo à empresa da Raquel Valentim' + '-' * 9) # 1/8
print ('-' * 55)
print ('-' * 20 + 'MENU PRINCIPAL' + '-' * 21)

# Opções apresentadas dentro do MAIN
#6/8
while True:
    print('\n\n--- MENU PRINCIPAL ---:')
    print('1. Cadastrar Funcionário')
    print('2. Consultar Funcionário')
    print('3. Remover Funcionário')
    print('4. Sair')

    escolha = input('Escolha uma opção: ')

    if (escolha == '1'):
        print('\n\n--- MENU DE CADASTRO ---:')
        cadastrar_funcionarios(id_global)
        id_global += 1
    elif (escolha == '2'):
        print('\n\n--- MENU DE CONSULTA ---:')
        consultar_funcionarios()
    elif (escolha == '3'):
        print('\n\n--- MENU REMOVER FUNCIONÁRIO ---:')
        remover_funcionarios()
    elif (escolha == '4'):
        print('Encerrando o programa... Até logo!')
        break
    else:
        print('Opção inválida.')
